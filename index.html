<html>
<head>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <style>
        #login-form {
            display: block;
        }
        #content {
            display: none;
        }
    </style>
</head>
<body>
    <div id="login-form">
        <h1>ログイン画面</h1>
        <p>パスワードを入力してください。</p>
        <input type="password" id="password-input" placeholder="パスワード">
        <div class="g-recaptcha" data-sitekey="6LcTMdgnAAAAABoX1MHBYI-P9EtfiiXCjyj_nvBt"></div>
        <button id="login-button" onclick="login()">ログイン</button>
    </div>
    <div id="content">
        <div><h1>ログイン後の画面</h1></div>
    </div>
    <script>
        function login() {
            // チェックボックスにチェックが付いているか確認
            var recaptcha = document.querySelector('.g-recaptcha-response').value;
            if (recaptcha === "") {
                alert("reCAPTCHAをチェックしてください。");
                return;
            }
            // パスワードを入力したか確認
            var password = document.getElementById("password-input").value;
            if (password === "") {
                alert("パスワードを入力してください。");
                return;
            }
            // パスワードがファイル内のどれかと一致するか確認
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "password.txt", true);
            xhr.onload = function() {
                var passwords = xhr.responseText.split("\n");
                if (passwords.includes(password)) {
                    // ログイン成功
                    document.getElementById("login-form").style.display = "none";
                    document.getElementById("content").style.display = "block";
                } else {
                    // ログイン失敗
                    alert("パスワードが間違っています。");
                }
            };
            xhr.send();
        }
    </script>
</body>
</html>
